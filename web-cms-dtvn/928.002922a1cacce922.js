(self.webpackChunkweb_cms_dtvn=self.webpackChunkweb_cms_dtvn||[]).push([[928],{9563:(k,w,g)=>{"use strict";g.d(w,{t:()=>y});var t=g(520),M=g(2340),O=g(5e3);let y=(()=>{class p{constructor(m){this.http=m}getList(m,a,d){let l=new t.LE;return l=l.append("limit",a),l=l.append("offset",d),m&&(l=l.append("name",m)),this.http.get(`${M.N.url.BASE_URL}/project`,{params:l})}getDetail(m){return this.http.get(`${M.N.url.BASE_URL}/project/${m}`)}create(m,a,d,l){let $=new t.LE;return $=$.append("name",m),$=$.append("code",d),a&&($=$.append("description",a)),l&&l.length&&l.forEach(o=>{$=$.append("partners[]",o)}),this.http.post(`${M.N.url.BASE_URL}/project`,$)}edit(m,a,d,l,$){let o=new t.LE;return a&&(o=o.append("name",a)),l&&(o=o.append("code",l)),d&&(o=o.append("description",d)),$&&$.length?$.forEach(C=>{o=o.append("partners[]",C)}):o=o.append("partners[]",""),this.http.put(`${M.N.url.BASE_URL}/project/${m}`,o)}delete(m){return this.http.delete(`${M.N.url.BASE_URL}/project/${m}`)}addFiles(m,a){const d=new FormData;for(const l of a)d.append("files",l);return this.http.put(`${M.N.url.BASE_URL}/project/${m}/add_files`,d)}addPhotos(m,a){const d=new FormData;for(const l of a)d.append("files",l);return this.http.put(`${M.N.url.BASE_URL}/project/${m}/add_photos`,d)}deleteFile(m,a){let d=new t.LE;return a&&(d=d.append("file",a)),this.http.put(`${M.N.url.BASE_URL}/project/${m}/delete_file`,d)}deletePhoto(m,a){let d=new t.LE;return a&&(d=d.append("photo",a)),this.http.put(`${M.N.url.BASE_URL}/project/${m}/delete_photo`,d)}}return p.\u0275fac=function(m){return new(m||p)(O.LFG(t.eN))},p.\u0275prov=O.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},6675:(k,w,g)=>{"use strict";g.d(w,{I:()=>p,Q:()=>S});var t=g(1764),M=g.n(t),O=g(5268),y=g.n(O);M().extend(y());class p{static isoToVnTime(a){return a&&0!==a.length?M().utc(a).local().format("DD/MM/YYYY HH:mm:ss"):"N/A"}}class S{static toDigis(a,d){if(a)return a.toLocaleString("en-us",{minimumFractionDigits:d,maximumFractionDigits:d});if(0==a){let l="";for(let $=0;$<d;$++)l+="0";return d?`0.${l}`:"0"}return"---"}static ascii2Hex(a){let d=[];for(let l=0,$=a.length;l<$;l++){let o=Number(a.charCodeAt(l));d.push(o)}return d}static hex2Ascii(a){let d="";for(let l=0;l<a.length;l+=1)d+=String.fromCharCode(a[l]);return d}}},535:(k,w,g)=>{"use strict";g.d(w,{A:()=>H});var t=g(5e3),M=g(5330),O=g(9563),y=g(9783),p=g(845),S=g(5787),m=g(8952),a=g(2382),d=g(1424),l=g(4119),$=g(4132);const o=["divBound"],C=["divTable"],Z=["divPaginator"];function B(D,_){if(1&D){const n=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"input",26),t.NdJ("ngModelChange",function(P){return t.CHM(n),t.oxw().name=P}),t.qZA()(),t.TgZ(3,"div",27)(4,"div",28)(5,"span")(6,"button",29),t.NdJ("click",function(){return t.CHM(n),t.oxw().onClear()}),t.qZA(),t.TgZ(7,"button",30),t.NdJ("click",function(){return t.CHM(n),t.oxw().fetchListOfProjects()}),t.qZA()()()()()}if(2&D){const n=t.oxw();t.xp6(2),t.Q6J("ngModel",n.name)}}function A(D,_){1&D&&(t.TgZ(0,"tr")(1,"th",31),t._uU(2,"#"),t.qZA(),t.TgZ(3,"th",32),t._uU(4,"T\xean "),t._UZ(5,"p-sortIcon",33),t.qZA(),t.TgZ(6,"th",34),t._uU(7,"M\xf4 t\u1ea3"),t.qZA(),t.TgZ(8,"th",35),t._uU(9,"Code"),t.qZA(),t.TgZ(10,"th",35),t._uU(11,"Partner"),t.qZA()())}function Y(D,_){if(1&D&&(t.TgZ(0,"tr",36)(1,"td",31),t._uU(2),t.qZA(),t.TgZ(3,"td",34),t._uU(4),t.qZA(),t.TgZ(5,"td",34),t._uU(6),t.qZA(),t.TgZ(7,"td",35),t._uU(8),t.qZA(),t.TgZ(9,"td",35),t._uU(10),t.qZA()()),2&D){const n=_.$implicit,u=_.rowIndex,P=t.oxw();t.Q6J("pSelectableRow",n),t.xp6(2),t.Oqu((P.currentPage-1)*P.itemsPerPage+1+u),t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Oqu(n.description),t.xp6(2),t.Oqu(n.code),t.xp6(2),t.Oqu(n.partner)}}function L(D,_){1&D&&(t.TgZ(0,"div",37),t._uU(1," Kh\xf4ng c\xf3 d\u1eef li\u1ec7u trong m\u1ee5c n\xe0y. "),t.qZA())}const U=function(){return[15,20,30,50]};let H=(()=>{class D{constructor(n,u,P,s,i,e){this.ref=n,this.config=u,this.pHttpService=P,this.messageService=s,this.renderer=i,this.dialogService=e,this.title="Ch\u1ecdn c\xf4ng tr\xecnh",this.projects=[],this.offset=0,this.totalItems=0,this.itemsPerPage=15,this.currentPage=1,this.loading=!1}ngOnDestroy(){this.loadingTime&&clearTimeout(this.loadingTime)}ngAfterViewInit(){this.renderer.setStyle(this.divTable.nativeElement,"height",`  ${this.divBound.nativeElement.offsetHeight-this.divPaginator.nativeElement.offsetHeight-40}px`)}onWindowResize(){this.renderer.setStyle(this.divTable.nativeElement,"height",`  ${this.divBound.nativeElement.offsetHeight-this.divPaginator.nativeElement.offsetHeight-40}px`)}ngOnInit(){this.fetchListOfProjects()}fetchListOfProjects(){this.loadingTime=setTimeout(()=>{this.loading=!0},1e3),this.pHttpService.getList(this.name,this.itemsPerPage,this.offset).subscribe({next:n=>{n&&200===n.status&&(this.projects=n.metadata.docs,this.totalItems=n.metadata.totalDocs,this.loading=!1,this.loadingTime&&clearTimeout(this.loadingTime),this.currentProject=null)},error:n=>{let u;u=n&&n.error&&n.error.message?n.error.message:"C\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng th\u1eed l\u1ea1i!",this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:u}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",n),this.loading=!1,this.loadingTime&&clearTimeout(this.loadingTime)}})}onPageChange(n){this.currentPage=n.page+1,this.itemsPerPage=n.rows,this.offset=(this.currentPage-1)*this.itemsPerPage,this.fetchListOfProjects()}onReSync(){this.fetchListOfProjects()}onSubmit(){this.ref.close(this.currentProject)}onDestroy(){this.ref.destroy()}onClear(){this.name=null}}return D.\u0275fac=function(n){return new(n||D)(t.Y36(M.E7),t.Y36(M.S),t.Y36(O.t),t.Y36(y.ez),t.Y36(t.Qsj),t.Y36(M.xA))},D.\u0275cmp=t.Xpm({type:D,selectors:[["app-pick-project"]],viewQuery:function(n,u){if(1&n&&(t.Gf(o,5,t.SBq),t.Gf(C,5,t.SBq),t.Gf(Z,5,t.SBq)),2&n){let P;t.iGM(P=t.CRH())&&(u.divBound=P.first),t.iGM(P=t.CRH())&&(u.divTable=P.first),t.iGM(P=t.CRH())&&(u.divPaginator=P.first)}},decls:26,vars:15,consts:[[1,"absolute","top-0","left-0","bottom-0","right-0",3,"resize"],["divBound",""],[1,"absolute","top-0","left-0","w-full"],[1,"flex","align-items-center","justify-content-between","border-bottom-1","border-gray-300"],[1,"ml-2","text-xl","font-bold"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-danger","p-button-text",3,"click"],[1,"page-content","mt-1"],["divTable",""],["selectionMode","single","styleClass","p-datatable-sm p-datatable-striped","scrollHeight","flex",3,"selection","value","scrollable","loading","selectionChange"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"absolute","bottom-0","left-0","w-full","p-1","border-top-1","border-gray-300"],["divPaginator",""],[1,"grid","grid-nogutter"],[1,"col-12","md:col-5","flex","align-items-center"],["pButton","","pRipple","","type","button","label","Ch\u1ecdn","icon","fa-solid fa-check",1,"mr-1",3,"disabled","click"],["pButton","","pRipple","","type","button","label","H\u1ee7y b\u1ecf","icon","fa-solid fa-times",1,"p-button-outlined","mr-1",3,"click"],[1,"col-12","md:col-5","flex","align-items-center","justify-content-end"],["styleClass","p-0",3,"rows","totalRecords","rowsPerPageOptions","showJumpToPageDropdown","showPageLinks","onPageChange"],[1,"col-12","md:col-2","flex","align-items-center"],["pButton","","pRipple","","type","button","icon","fa-solid fa-sync",1,"p-button-raised","p-button-text",3,"click"],[1,"ml-1"],[1,"p-fluid","grid","formgrid"],[1,"field","col-12","md:col-4","mb-1"],["type","text","pInputText","","placeholder","Nh\u1eadp t\xean C\xf4ng tr\xecnh",3,"ngModel","ngModelChange"],[1,"field","col-12","md:col-4"],[1,"flex","justify-content-between"],["type","button","pButton","","icon","fa-solid fa-undo","pTooltip","\u0110\u1eb7t l\u1ea1i","tooltipPosition","top",1,"mr-1",3,"click"],["type","button","pButton","","icon","fa-solid fa-search","pTooltip","T\xecm ki\u1ebfm","tooltipPosition","top",1,"mr-1",3,"click"],[2,"width","60px","max-width","60px"],["pSortableColumn","name",2,"min-width","200px"],["field","name"],[2,"min-width","200px"],[2,"min-width","150px"],[3,"pSelectableRow"],[1,"p-fluid","p-2"]],template:function(n,u){1&n&&(t.TgZ(0,"div",0,1),t.NdJ("resize",function(){return u.onWindowResize()},!1,t.Jf7),t.TgZ(2,"div",2)(3,"div",3)(4,"span",4),t._uU(5),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){return u.onDestroy()}),t.qZA()(),t.TgZ(7,"div",6,7)(9,"p-table",8),t.NdJ("selectionChange",function(s){return u.currentProject=s}),t.YNc(10,B,8,1,"ng-template",9),t.YNc(11,A,12,0,"ng-template",10),t.YNc(12,Y,11,6,"ng-template",11),t.YNc(13,L,2,0,"ng-template",12),t.qZA()()(),t.TgZ(14,"div",13,14)(16,"div",15)(17,"div",16)(18,"button",17),t.NdJ("click",function(){return u.onSubmit()}),t.qZA(),t.TgZ(19,"button",18),t.NdJ("click",function(){return u.onDestroy()}),t.qZA()(),t.TgZ(20,"div",19)(21,"p-paginator",20),t.NdJ("onPageChange",function(s){return u.onPageChange(s)}),t.qZA()(),t.TgZ(22,"div",21)(23,"button",22),t.NdJ("click",function(){return u.onReSync()}),t.qZA(),t.TgZ(24,"span",23),t._uU(25),t.qZA()()()()()),2&n&&(t.xp6(5),t.Oqu(u.title),t.xp6(4),t.Q6J("selection",u.currentProject)("value",u.projects)("scrollable",!0)("loading",u.loading),t.xp6(9),t.Q6J("disabled",!u.currentProject),t.xp6(3),t.Q6J("rows",u.itemsPerPage)("totalRecords",u.totalItems)("rowsPerPageOptions",t.DdM(14,U))("showJumpToPageDropdown",!0)("showPageLinks",!1),t.xp6(4),t.lnq("Displaying ",(u.currentPage-1)*u.itemsPerPage+1,"-",(u.currentPage-1)*u.itemsPerPage+u.itemsPerPage>u.totalItems?u.totalItems:(u.currentPage-1)*u.itemsPerPage+u.itemsPerPage," of ",u.totalItems,""))},directives:[p.Hq,S.H,m.iA,y.jx,a.Fj,d.o,a.JJ,a.On,l.u,m.lQ,m.fz,m.Ei,$.D],styles:[""]}),D})()},1764:function(k){k.exports=function(){"use strict";var g=6e4,t=36e5,M="millisecond",O="second",y="minute",p="hour",S="day",m="week",a="month",d="quarter",l="year",$="date",o="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Z=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,B={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var i=["th","st","nd","rd"],e=s%100;return"["+s+(i[(e-20)%10]||i[e]||i[0])+"]"}},A=function(s,i,e){var c=String(s);return!c||c.length>=i?s:""+Array(i+1-c.length).join(e)+s},Y={s:A,z:function(s){var i=-s.utcOffset(),e=Math.abs(i),c=Math.floor(e/60),r=e%60;return(i<=0?"+":"-")+A(c,2,"0")+":"+A(r,2,"0")},m:function s(i,e){if(i.date()<e.date())return-s(e,i);var c=12*(e.year()-i.year())+(e.month()-i.month()),r=i.clone().add(c,a),h=e-r<0,f=i.clone().add(c+(h?-1:1),a);return+(-(c+(e-r)/(h?r-f:f-r))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M:a,y:l,w:m,d:S,D:$,h:p,m:y,s:O,ms:M,Q:d}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return void 0===s}},L="en",U={};U[L]=B;var H=function(s){return s instanceof u},D=function s(i,e,c){var r;if(!i)return L;if("string"==typeof i){var h=i.toLowerCase();U[h]&&(r=h),e&&(U[h]=e,r=h);var f=i.split("-");if(!r&&f.length>1)return s(f[0])}else{var v=i.name;U[v]=i,r=v}return!c&&r&&(L=r),r||!c&&L},_=function(s,i){if(H(s))return s.clone();var e="object"==typeof i?i:{};return e.date=s,e.args=arguments,new u(e)},n=Y;n.l=D,n.i=H,n.w=function(s,i){return _(s,{locale:i.$L,utc:i.$u,x:i.$x,$offset:i.$offset})};var u=function(){function s(e){this.$L=D(e.locale,null,!0),this.parse(e)}var i=s.prototype;return i.parse=function(e){this.$d=function(c){var r=c.date,h=c.utc;if(null===r)return new Date(NaN);if(n.u(r))return new Date;if(r instanceof Date)return new Date(r);if("string"==typeof r&&!/Z$/i.test(r)){var f=r.match(C);if(f){var v=f[2]-1||0,E=(f[7]||"0").substring(0,3);return h?new Date(Date.UTC(f[1],v,f[3]||1,f[4]||0,f[5]||0,f[6]||0,E)):new Date(f[1],v,f[3]||1,f[4]||0,f[5]||0,f[6]||0,E)}}return new Date(r)}(e),this.$x=e.x||{},this.init()},i.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},i.$utils=function(){return n},i.isValid=function(){return this.$d.toString()!==o},i.isSame=function(e,c){var r=_(e);return this.startOf(c)<=r&&r<=this.endOf(c)},i.isAfter=function(e,c){return _(e)<this.startOf(c)},i.isBefore=function(e,c){return this.endOf(c)<_(e)},i.$g=function(e,c,r){return n.u(e)?this[c]:this.set(r,e)},i.unix=function(){return Math.floor(this.valueOf()/1e3)},i.valueOf=function(){return this.$d.getTime()},i.startOf=function(e,c){var r=this,h=!!n.u(c)||c,f=n.p(e),v=function(N,j){var I=n.w(r.$u?Date.UTC(r.$y,j,N):new Date(r.$y,j,N),r);return h?I:I.endOf(S)},E=function(N,j){return n.w(r.toDate()[N].apply(r.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(j)),r)},T=this.$W,b=this.$M,x=this.$D,R="set"+(this.$u?"UTC":"");switch(f){case l:return h?v(1,0):v(31,11);case a:return h?v(1,b):v(0,b+1);case m:var W=this.$locale().weekStart||0,J=(T<W?T+7:T)-W;return v(h?x-J:x+(6-J),b);case S:case $:return E(R+"Hours",0);case p:return E(R+"Minutes",1);case y:return E(R+"Seconds",2);case O:return E(R+"Milliseconds",3);default:return this.clone()}},i.endOf=function(e){return this.startOf(e,!1)},i.$set=function(e,c){var r,h=n.p(e),f="set"+(this.$u?"UTC":""),v=(r={},r[S]=f+"Date",r[$]=f+"Date",r[a]=f+"Month",r[l]=f+"FullYear",r[p]=f+"Hours",r[y]=f+"Minutes",r[O]=f+"Seconds",r[M]=f+"Milliseconds",r)[h],E=h===S?this.$D+(c-this.$W):c;if(h===a||h===l){var T=this.clone().set($,1);T.$d[v](E),T.init(),this.$d=T.set($,Math.min(this.$D,T.daysInMonth())).$d}else v&&this.$d[v](E);return this.init(),this},i.set=function(e,c){return this.clone().$set(e,c)},i.get=function(e){return this[n.p(e)]()},i.add=function(e,c){var r,h=this;e=Number(e);var f=n.p(c),v=function(b){var x=_(h);return n.w(x.date(x.date()+Math.round(b*e)),h)};if(f===a)return this.set(a,this.$M+e);if(f===l)return this.set(l,this.$y+e);if(f===S)return v(1);if(f===m)return v(7);var E=(r={},r[y]=g,r[p]=t,r[O]=1e3,r)[f]||1,T=this.$d.getTime()+e*E;return n.w(T,this)},i.subtract=function(e,c){return this.add(-1*e,c)},i.format=function(e){var c=this,r=this.$locale();if(!this.isValid())return r.invalidDate||o;var h=e||"YYYY-MM-DDTHH:mm:ssZ",f=n.z(this),v=this.$H,E=this.$m,T=this.$M,b=r.weekdays,x=r.months,R=function(j,I,K,F){return j&&(j[I]||j(c,h))||K[I].slice(0,F)},W=function(j){return n.s(v%12||12,j,"0")},J=r.meridiem||function(j,I,K){var F=j<12?"AM":"PM";return K?F.toLowerCase():F},N={YY:String(this.$y).slice(-2),YYYY:this.$y,M:T+1,MM:n.s(T+1,2,"0"),MMM:R(r.monthsShort,T,x,3),MMMM:R(x,T),D:this.$D,DD:n.s(this.$D,2,"0"),d:String(this.$W),dd:R(r.weekdaysMin,this.$W,b,2),ddd:R(r.weekdaysShort,this.$W,b,3),dddd:b[this.$W],H:String(v),HH:n.s(v,2,"0"),h:W(1),hh:W(2),a:J(v,E,!0),A:J(v,E,!1),m:String(E),mm:n.s(E,2,"0"),s:String(this.$s),ss:n.s(this.$s,2,"0"),SSS:n.s(this.$ms,3,"0"),Z:f};return h.replace(Z,function(j,I){return I||N[j]||f.replace(":","")})},i.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},i.diff=function(e,c,r){var h,f=n.p(c),v=_(e),E=(v.utcOffset()-this.utcOffset())*g,T=this-v,b=n.m(this,v);return b=(h={},h[l]=b/12,h[a]=b,h[d]=b/3,h[m]=(T-E)/6048e5,h[S]=(T-E)/864e5,h[p]=T/t,h[y]=T/g,h[O]=T/1e3,h)[f]||T,r?b:n.a(b)},i.daysInMonth=function(){return this.endOf(a).$D},i.$locale=function(){return U[this.$L]},i.locale=function(e,c){if(!e)return this.$L;var r=this.clone(),h=D(e,c,!0);return h&&(r.$L=h),r},i.clone=function(){return n.w(this.$d,this)},i.toDate=function(){return new Date(this.valueOf())},i.toJSON=function(){return this.isValid()?this.toISOString():null},i.toISOString=function(){return this.$d.toISOString()},i.toString=function(){return this.$d.toUTCString()},s}(),P=u.prototype;return _.prototype=P,[["$ms",M],["$s",O],["$m",y],["$H",p],["$W",S],["$M",a],["$y",l],["$D",$]].forEach(function(s){P[s[1]]=function(i){return this.$g(i,s[0],s[1])}}),_.extend=function(s,i){return s.$i||(s(i,u,_),s.$i=!0),_},_.locale=D,_.isDayjs=H,_.unix=function(s){return _(1e3*s)},_.en=U[L],_.Ls=U,_.p={},_}()},5268:function(k){k.exports=function(){"use strict";var w="minute",g=/[+-]\d\d(?::?\d\d)?/g,t=/([+-]|\d\d)/g;return function(M,O,y){var p=O.prototype;y.utc=function(o){return new O({date:o,utc:!0,args:arguments})},p.utc=function(o){var C=y(this.toDate(),{locale:this.$L,utc:!0});return o?C.add(this.utcOffset(),w):C},p.local=function(){return y(this.toDate(),{locale:this.$L,utc:!1})};var S=p.parse;p.parse=function(o){o.utc&&(this.$u=!0),this.$utils().u(o.$offset)||(this.$offset=o.$offset),S.call(this,o)};var m=p.init;p.init=function(){if(this.$u){var o=this.$d;this.$y=o.getUTCFullYear(),this.$M=o.getUTCMonth(),this.$D=o.getUTCDate(),this.$W=o.getUTCDay(),this.$H=o.getUTCHours(),this.$m=o.getUTCMinutes(),this.$s=o.getUTCSeconds(),this.$ms=o.getUTCMilliseconds()}else m.call(this)};var a=p.utcOffset;p.utcOffset=function(o,C){var Z=this.$utils().u;if(Z(o))return this.$u?0:Z(this.$offset)?a.call(this):this.$offset;if("string"==typeof o&&null===(o=function(L){void 0===L&&(L="");var U=L.match(g);if(!U)return null;var H=(""+U[0]).match(t)||["-",0,0],_=60*+H[1]+ +H[2];return 0===_?0:"+"===H[0]?_:-_}(o)))return this;var B=Math.abs(o)<=16?60*o:o,A=this;if(C)return A.$offset=B,A.$u=0===o,A;if(0!==o){var Y=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(A=this.local().add(B+Y,w)).$offset=B,A.$x.$localOffset=Y}else A=this.utc();return A};var d=p.format;p.format=function(o){return d.call(this,o||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},p.valueOf=function(){var o=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*o},p.isUTC=function(){return!!this.$u},p.toISOString=function(){return this.toDate().toISOString()},p.toString=function(){return this.toDate().toUTCString()};var l=p.toDate;p.toDate=function(o){return"s"===o&&this.$offset?y(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var $=p.diff;p.diff=function(o,C,Z){if(o&&this.$u===o.$u)return $.call(this,o,C,Z);var B=this.local(),A=y(o).local();return $.call(B,A,C,Z)}}}()}}]);